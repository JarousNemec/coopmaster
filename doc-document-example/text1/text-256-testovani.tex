Testování je klíčovým krokem k zajištění spolehlivosti, správnosti a bezpečnosti aplikací a systémů.
Jako programátor bych se zaměřil na několik úrovní testování, které by zajistily, že všechny komponenty systému fungují podle očekávání.
Já jsem na svůj projekt ručně aplikoval Integrační testy, Systémové společně se Smoke testy a na závěr Uživatelské testy.
Unit testy, které jsou jinak základem každého správně vyvíjeného softwaru, jsem prozatím vynechal, protože služby zatím nejsou, v této fázi, tak rozsáhlé, aby bylo třeba je nějak robustně testovat.
\section{Integrační testy}\label{sec:integracni-testy}
Ručně jsem prováděl Integrační testy vždy po dokončení služby, abych zjistil zda všechna komunikační rozhraní fungují správně.
K ověření funkčnosti Flask API rozhraní jsem používal program Postman.
Pro ověření komunikace skrze MQTT jsem použil program MQTT-Explorer.

\section{Systémové a Smoke testy}\label{sec:systemove-a-smoke-testy}
Tyto testy byly to hlavní, co jsem prováděl.
Vykazují totiž funkčnost celého systému pod vlivem času a různých situací.
Díky tomuto testu jsem například odhalil špatnou konfiguraci MQTT brokeru, který byl nastaven, aby ukládal všechny zprávy, které skrze něj projdou.
To je věc, která při běhu maximálně 2 hodiny během vývoje nezaznamenáte.
Odhalil jsem to až v testovacím provozu, když najednou přestala komplet fungovat MQTT komunikace a já zjistil, že díky posílání aktuálních obrázků z kamer se za týden běhu cache brokeru naplnila a ten již nadále nezpracovával zprávy.\newline
Další byli například restarty.
Hlavní problém s restarty je při nastavování linuxových práv k různým periferiím a souborům.
Problém nastal například v případě, kdy bylo potřeba udělit práva pro využití USB portu službě Scale Driver.
Práva se totiž nastavila na konkrétní port jenže po restartu systému se porty zpřeházely a služba k novému portu neměla přítup.

\section{Uživatelské testování}\label{sec:uzivatelske-testovani}
Uživatelské testování jsem prováděl kvůli tomu, abych zjistil zda je grafické rozhraní v systému Home Assistant dostatečně srozumitelné a přehledné.
Díky těmto testům jsem například opravil nelogičnost ikonkách tlačítek nebo směnil rozvržení komponent podle toho, v jakém pořadí je chce uživatel na první pohled vidět.








%\section{Systémové testy}\label{sec:systemove-testy}
%
%Systematické testování celého systému by zahrnovalo simulaci reálných uživatelských scénářů, jako je detekce vetřelce pomocí kamery a následné zaslání notifikace.
%Zde bych se soustředil na testování, zda celý systém od snímání přes analýzu až po odpověď pro uživatele funguje bez chyby.
%Testovací scénáře by také zahrnovaly abnormální situace, jako je výpadek některé z mikroslužeb, a sledování, jak systém reaguje.
%
%\section{Testy výkonu a zátěžové testování}\label{sec:testy-vykonu-a-zatezove-testovani}
%
%Systém by měl být také testován pro výkon při různých zátěžových podmínkách, abych zjistil jeho limitace.
%To by zahrnovalo generování velkého množství dat například z kamer a sledování, jak si systém poradí s jejich zpracováním a zda připojení mezi mikroslužbami (přes Docker a MQTT) drží krok.
%
%\section{Testování bezpečnosti}\label{sec:testovani-bezpecnosti}
%
%Jelikož je systém přístupný z internetu, další kritickou oblastí by bylo testování bezpečnosti.
%Použití nástrojů pro penetrační testy ke zjištění potenciálních zranitelností, simulace útoků jako jsou DDoS, a kontrola správného nastavení komunikace přes tunely a šifrování pomocí nástrojů jako \texttt{Wireshark} pro monitorování datového provozu.
%
%\section{Uživatelské testování}\label{sec:uzivatelske-testovani}
%
%Nakonec bych se obrátil na testy z pohledu uživatele.
%To zahrnuje uživatelskou zkušenost s Home Assistantem - např. přehlednost vizualizací, snadnost ovládání systému z mobilní aplikace.
%Zde by bylo důležité získat zpětnou vazbu od skutečných uživatelů systému.
%Tím, že bych tuto metodiku testování aplikoval důkladně, bych mohl s jistotou říct, že systém Coopmaster je připraven na nasazení do produkce a splňuje všechny očekávané požadavky na funkcionalitu a spolehlivost.

%\section{Unit testy}\label{sec:unit-testy}
%ovjeřit že dané metody fungují
%testovani v rámci jednoho repa
%použití mockování
%
%Začal bych s jednotkovými testy pro jednotlivé mikroslužby, abych ověřil, že každá část funguje izolovaně správně.
%Například bych vytvořil testy pro kamerový ovladač, které by simulovaly přijetí obrázků z kamer a kontrolovaly správné vrácení obrazu.
%Podobně bych testoval ovladač váhy pro správné čtení a zpracování dat.
%Frameworky pro testování jako \texttt{unittest} nebo \texttt{pytest} v Pythonu by byly ideální pro tuto úroveň.
%Poté bych přešel na integrační testy, jejichž cílem je ověřit, zda jednotlivé mikroslužby spolupracují podle očekávání.
%Například bych testoval komunikaci mezi Room Assistantem a Home Assistantem přes MQTT, a zajistil, že data o teplotě a vlhkosti jsou správně přenášena.
%Integrační testy by měly zahrnovat i scénáře zahrnující hardwarovou interakci, abych se ujistil, že fyzické prvky systému správně komunikují se softwarem.


